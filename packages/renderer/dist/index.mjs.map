{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * @snapie/renderer\n * \n * A configurable Hive blockchain markdown renderer with support for:\n * - 3Speak video/audio embeds\n * - IPFS content handling\n * - Hive frontend URL conversion\n * - XSS protection via DOMPurify\n */\n\nimport { DefaultRenderer } from \"@hiveio/content-renderer\";\nimport DOMPurify from 'isomorphic-dompurify';\n\n/**\n * Configuration options for the Hive markdown renderer\n */\nexport interface HiveRendererOptions {\n    /** Base URL for relative links (default: \"https://hive.blog/\") */\n    baseUrl?: string;\n    \n    /** \n     * Primary IPFS gateway URL (default: \"https://ipfs.3speak.tv\")\n     * This is used for rendering IPFS content\n     */\n    ipfsGateway?: string;\n    \n    /**\n     * Fallback IPFS gateways to try if primary fails\n     * Default: [\"https://ipfs.skatehive.app\", \"https://cloudflare-ipfs.com\", \"https://ipfs.io\"]\n     */\n    ipfsFallbackGateways?: string[];\n    \n    /** Function to transform user mentions to URLs (default: (account) => \"/@\" + account) */\n    usertagUrlFn?: (account: string) => string;\n    \n    /** Function to transform hashtags to URLs (default: (hashtag) => \"/trending/\" + hashtag) */\n    hashtagUrlFn?: (hashtag: string) => string;\n    \n    /** Additional Hive frontends to recognize for URL conversion */\n    additionalHiveFrontends?: string[];\n    \n    /** Whether to convert Hive frontend URLs to internal links (default: true) */\n    convertHiveUrls?: boolean;\n    \n    /** Internal URL prefix for converted Hive links (default: \"\") - e.g., \"\" produces \"/@author/permlink\" */\n    internalUrlPrefix?: string;\n    \n    /** Asset dimensions */\n    assetsWidth?: number;\n    assetsHeight?: number;\n    \n    /** Custom image proxy function */\n    imageProxyFn?: (url: string) => string;\n}\n\n/**\n * Default IPFS gateways in order of preference\n * 3Speak is primary since it's optimized for Hive content\n */\nconst DEFAULT_IPFS_GATEWAY = \"https://ipfs.3speak.tv\";\nconst DEFAULT_IPFS_FALLBACKS = [\n    \"https://ipfs.skatehive.app\",\n    \"https://cloudflare-ipfs.com\",\n    \"https://ipfs.io\"\n];\n\n/**\n * Default Hive frontends recognized for URL conversion\n */\nconst DEFAULT_HIVE_FRONTENDS = [\n    'peakd.com',\n    'ecency.com',\n    'hive.blog',\n    'hiveblog.io',\n    'leofinance.io',\n    '3speak.tv',\n    'd.tube',\n    'esteem.app',\n    'busy.org'\n];\n\n/**\n * DOMPurify configuration for safe HTML output\n */\nconst DOMPURIFY_CONFIG = {\n    ALLOWED_TAGS: [\n        // Text formatting\n        'p', 'br', 'span', 'div', 'blockquote', 'pre', 'code',\n        'strong', 'em', 'b', 'i', 'u', 'ins', 'del', 's', 'strike',\n        'mark', 'sub', 'sup', 'small',\n        // Headings\n        'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n        // Lists\n        'ul', 'ol', 'li', 'dl', 'dt', 'dd',\n        // Tables\n        'table', 'thead', 'tbody', 'tfoot', 'tr', 'th', 'td', 'caption', 'col', 'colgroup',\n        // Links and media\n        'a', 'img', 'video', 'source', 'audio', 'iframe',\n        // Other safe elements\n        'hr', 'center', 'details', 'summary'\n    ],\n    ALLOWED_ATTR: [\n        'href', 'src', 'alt', 'title', 'width', 'height',\n        'class', 'id', 'style', 'target', 'rel',\n        'controls', 'muted', 'preload', 'loading', 'autoplay', 'loop',\n        'type', 'allowfullscreen', 'frameborder', 'allow', 'scrolling',\n        'colspan', 'rowspan', 'align', 'valign',\n        'start', 'reversed',\n        'data-dnt', 'data-theme', 'allowtransparency'\n    ],\n    ALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|ipfs):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,\n    ALLOW_DATA_ATTR: false,\n    ALLOW_UNKNOWN_PROTOCOLS: false,\n    FORBID_TAGS: ['script', 'form', 'input', 'button', 'textarea', 'select', 'dialog', 'object', 'embed', 'applet', 'base', 'link', 'meta'],\n    FORBID_ATTR: ['onerror', 'onload', 'onclick', 'onmouseover', 'onmouseout', 'onmousemove', 'onmouseenter', 'onmouseleave', 'onfocus', 'onblur', 'onchange', 'onsubmit', 'onkeydown', 'onkeyup', 'onkeypress'],\n    KEEP_CONTENT: true,\n    RETURN_TRUSTED_TYPE: false\n};\n\n/**\n * Fix malformed center tags from DefaultRenderer\n * DefaultRenderer sometimes produces: <p><center>...content...<hr />...more content...</center></p>\n */\nfunction fixMalformedCenterTags(content: string): string {\n    return content.replace(\n        /<p><center>([\\s\\S]*?)<hr \\/>([\\s\\S]*?)<\\/center><\\/p>/gi,\n        (match, beforeHr, afterHr) => {\n            return `<center>${beforeHr.trim()}</center><hr />${afterHr.trim()}`;\n        }\n    );\n}\n\n/**\n * Transform 3Speak URLs to embedded iframes\n * Handles both legacy (3speak.tv) and current (play.3speak.tv) URLs\n * Deduplicates multiple instances of the same video\n */\nfunction transform3SpeakContent(content: string): string {\n    const embeddedVideos = new Set<string>();\n    const embeddedAudios = new Set<string>();\n\n    // Fix malformed center tags first\n    content = fixMalformedCenterTags(content);\n\n    // Handle LEGACY 3speak.tv URLs (without play. subdomain)\n    content = content.replace(\n        /<a[^>]*href=\"(https?:\\/\\/3speak\\.tv\\/watch\\?v=([^\"&]+)[^\"]*)\"[^>]*>.*?<\\/a>/g,\n        (match, fullUrl, videoId) => {\n            if (embeddedVideos.has(videoId)) return match;\n            embeddedVideos.add(videoId);\n            const embedUrl = `https://play.3speak.tv/watch?v=${videoId}&mode=iframe`;\n            return `<div class=\"video-container\"><iframe src=\"${embedUrl}\" allowfullscreen loading=\"lazy\"></iframe></div>`;\n        }\n    );\n\n    // Handle 3Speak watch URLs (with play. subdomain)\n    content = content.replace(\n        /<a[^>]*href=\"(https?:\\/\\/play\\.3speak\\.tv\\/watch\\?v=([^\"&]+)[^\"]*)\"[^>]*>.*?<\\/a>/g,\n        (match, fullUrl, videoId) => {\n            if (embeddedVideos.has(videoId)) return match;\n            embeddedVideos.add(videoId);\n            const embedUrl = `https://play.3speak.tv/watch?v=${videoId}&mode=iframe`;\n            return `<div class=\"video-container\"><iframe src=\"${embedUrl}\" allowfullscreen loading=\"lazy\"></iframe></div>`;\n        }\n    );\n\n    // Handle 3Speak embed URLs\n    content = content.replace(\n        /<a[^>]*href=\"(https?:\\/\\/play\\.3speak\\.tv\\/embed\\?v=([^\"&]+)[^\"]*)\"[^>]*>.*?<\\/a>/g,\n        (match, fullUrl, videoId) => {\n            if (embeddedVideos.has(videoId)) return match;\n            embeddedVideos.add(videoId);\n            const embedUrl = `https://play.3speak.tv/embed?v=${videoId}&mode=iframe`;\n            return `<div class=\"video-container\"><iframe src=\"${embedUrl}\" allowfullscreen loading=\"lazy\"></iframe></div>`;\n        }\n    );\n\n    // Handle 3Speak audio URLs\n    content = content.replace(\n        /<a[^>]*href=\"(https?:\\/\\/audio\\.3speak\\.tv\\/play\\?a=([^\"&]+)[^\"]*)\"[^>]*>.*?<\\/a>/g,\n        (match, fullUrl, audioId) => {\n            if (embeddedAudios.has(audioId)) return match;\n            embeddedAudios.add(audioId);\n            const embedUrl = `https://audio.3speak.tv/play?a=${audioId}`;\n            return `<div class=\"audio-container\"><iframe src=\"${embedUrl}\" loading=\"lazy\"></iframe></div>`;\n        }\n    );\n\n    return content;\n}\n\n/**\n * Transform Twitter/X URLs to embedded tweets\n * Handles both twitter.com and x.com domains\n * Uses iframe embed for security (no external scripts)\n */\nfunction transformTwitterContent(content: string): string {\n    const embeddedTweets = new Set<string>();\n\n    // Match Twitter/X URLs in anchor tags: twitter.com/user/status/ID or x.com/user/status/ID\n    const twitterRegex = /<a[^>]*href=\"(https?:\\/\\/(?:twitter\\.com|x\\.com)\\/([^/]+)\\/status\\/(\\d+)[^\"]*)\"[^>]*>.*?<\\/a>/gi;\n    \n    content = content.replace(twitterRegex, (match, fullUrl, username, tweetId) => {\n        if (embeddedTweets.has(tweetId)) return match;\n        embeddedTweets.add(tweetId);\n        \n        // Use syndication iframe embed (no script required)\n        return `<div class=\"twitter-embed-container\" style=\"max-width: 550px;\">\n            <iframe \n                src=\"https://platform.twitter.com/embed/Tweet.html?id=${tweetId}&dnt=true\" \n                width=\"550\" \n                height=\"250\" \n                frameborder=\"0\" \n                scrolling=\"no\" \n                allowtransparency=\"true\"\n                loading=\"lazy\"\n                style=\"border: 1px solid #ccc; border-radius: 12px;\">\n            </iframe>\n        </div>`;\n    });\n\n    // Also handle plain URLs (not in anchor tags) - commonly pasted directly\n    const plainTwitterRegex = /(?<![\">])(https?:\\/\\/(?:twitter\\.com|x\\.com)\\/([^/\\s]+)\\/status\\/(\\d+))(?![^<]*<\\/a>)/gi;\n    \n    content = content.replace(plainTwitterRegex, (match, fullUrl, username, tweetId) => {\n        if (embeddedTweets.has(tweetId)) return match;\n        embeddedTweets.add(tweetId);\n        \n        return `<div class=\"twitter-embed-container\" style=\"max-width: 550px;\">\n            <iframe \n                src=\"https://platform.twitter.com/embed/Tweet.html?id=${tweetId}&dnt=true\" \n                width=\"550\" \n                height=\"250\" \n                frameborder=\"0\" \n                scrolling=\"no\" \n                allowtransparency=\"true\"\n                loading=\"lazy\"\n                style=\"border: 1px solid #ccc; border-radius: 12px;\">\n            </iframe>\n        </div>`;\n    });\n\n    return content;\n}\n\n/**\n * Transform Instagram URLs to embedded posts\n * Handles posts, reels, and stories\n */\nfunction transformInstagramContent(content: string): string {\n    const embeddedPosts = new Set<string>();\n\n    // Match Instagram URLs in anchor tags: instagram.com/p/CODE/ or instagram.com/reel/CODE/\n    const instagramRegex = /<a[^>]*href=\"(https?:\\/\\/(?:www\\.)?instagram\\.com\\/(?:p|reel|tv)\\/([a-zA-Z0-9_-]+)[^\"]*)\"[^>]*>.*?<\\/a>/gi;\n    \n    content = content.replace(instagramRegex, (match, fullUrl, postCode) => {\n        if (embeddedPosts.has(postCode)) return match;\n        embeddedPosts.add(postCode);\n        \n        // Use Instagram's embed iframe\n        return `<div class=\"instagram-embed-container\">\n            <iframe \n                src=\"https://www.instagram.com/p/${postCode}/embed\" \n                width=\"400\" \n                height=\"480\" \n                frameborder=\"0\" \n                scrolling=\"no\" \n                allowtransparency=\"true\"\n                loading=\"lazy\">\n            </iframe>\n        </div>`;\n    });\n\n    // Also handle plain URLs (not in anchor tags)\n    const plainInstagramRegex = /(?<![\">])(https?:\\/\\/(?:www\\.)?instagram\\.com\\/(?:p|reel|tv)\\/([a-zA-Z0-9_-]+)[^\\s<]*)(?![^<]*<\\/a>)/gi;\n    \n    content = content.replace(plainInstagramRegex, (match, fullUrl, postCode) => {\n        if (embeddedPosts.has(postCode)) return match;\n        embeddedPosts.add(postCode);\n        \n        return `<div class=\"instagram-embed-container\">\n            <iframe \n                src=\"https://www.instagram.com/p/${postCode}/embed\" \n                width=\"400\" \n                height=\"480\" \n                frameborder=\"0\" \n                scrolling=\"no\" \n                allowtransparency=\"true\"\n                loading=\"lazy\">\n            </iframe>\n        </div>`;\n    });\n\n    return content;\n}\n\n/**\n * Transform IPFS iframes to native video elements with fallback sources\n */\nfunction transformIPFSContent(\n    content: string, \n    ipfsGateway: string,\n    fallbackGateways: string[]\n): string {\n    // Match IPFS iframes from various gateways\n    const ipfsGatewayPatterns = [ipfsGateway, ...fallbackGateways, 'https://ipfs.io', 'https://gateway.pinata.cloud'];\n    \n    for (const gateway of ipfsGatewayPatterns) {\n        const regex = new RegExp(\n            `<iframe src=\"${gateway.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')}/ipfs/([a-zA-Z0-9-?=&]+)\"(?:(?!<\\\\/iframe>).)*\\\\sallowfullscreen><\\\\/iframe>`,\n            'g'\n        );\n        \n        content = content.replace(regex, (match, videoID) => {\n            // Create video element with multiple source fallbacks\n            const sources = [ipfsGateway, ...fallbackGateways]\n                .map(gw => `<source src=\"${gw}/ipfs/${videoID}\" type=\"video/mp4\">`)\n                .join('\\n                    ');\n            \n            return `<video controls muted preload=\"none\" loading=\"lazy\"> \n                    ${sources}\n                </video>`;\n        });\n    }\n    \n    return content;\n}\n\n/**\n * Add safety attributes to IPFS links to prevent unwanted downloads\n */\nfunction preventIPFSDownloads(content: string): string {\n    return content.replace(\n        /<a href=\"(https?:\\/\\/[^\"]*(?:ipfs|bafy|Qm)[^\"]*)\"([^>]*)>/gi,\n        '<a href=\"$1\" target=\"_blank\" rel=\"noopener noreferrer\"$2 onclick=\"event.preventDefault(); window.open(this.href, \\'_blank\\'); return false;\">'\n    );\n}\n\n/**\n * Convert Hive frontend URLs to internal app links\n */\nfunction convertHiveUrlsToInternal(\n    content: string, \n    hiveFrontends: string[], \n    internalPrefix: string\n): string {\n    const frontendsPattern = hiveFrontends.map(domain => domain.replace('.', '\\\\.')).join('|');\n    \n    const hiveUrlRegex = new RegExp(\n        `<a href=\"https?:\\\\/\\\\/(?:www\\\\.)?(${frontendsPattern})\\\\/((?:[^/]+\\\\/)?@([a-z0-9.-]+)\\\\/([a-z0-9-]+))\"([^>]*)>`,\n        'gi'\n    );\n    \n    return content.replace(hiveUrlRegex, (match, frontend, fullPath, author, permlink, attributes) => {\n        const internalUrl = `${internalPrefix}/@${author}/${permlink}`;\n        return `<a href=\"${internalUrl}\"${attributes}>`;\n    });\n}\n\n/**\n * Create a Hive markdown renderer with the given options\n * \n * @param options - Configuration options for the renderer\n * @returns A function that renders markdown to HTML\n * \n * @example\n * ```typescript\n * import { createHiveRenderer } from '@snapie/renderer';\n * \n * const render = createHiveRenderer({\n *   ipfsGateway: 'https://ipfs.3speak.tv',\n *   additionalHiveFrontends: ['myapp.io']\n * });\n * \n * const html = render(markdownContent);\n * ```\n */\nexport function createHiveRenderer(options: HiveRendererOptions = {}) {\n    const {\n        baseUrl = \"https://hive.blog/\",\n        ipfsGateway = DEFAULT_IPFS_GATEWAY,\n        ipfsFallbackGateways = DEFAULT_IPFS_FALLBACKS,\n        usertagUrlFn = (account: string) => \"/@\" + account,\n        hashtagUrlFn = (hashtag: string) => \"/trending/\" + hashtag,\n        additionalHiveFrontends = [],\n        convertHiveUrls = true,\n        internalUrlPrefix = \"\",\n        assetsWidth = 540,\n        assetsHeight = 380,\n        imageProxyFn,\n    } = options;\n\n    const hiveFrontends = [...DEFAULT_HIVE_FRONTENDS, ...additionalHiveFrontends];\n\n    const defaultImageProxy = (url: string) => {\n        try {\n            if (url.includes('ipfs')) {\n                const parts = url.split('/ipfs/');\n                if (parts[1]) {\n                    return `https://ipfs.io/ipfs/${parts[1]}`;\n                }\n            }\n            return url;\n        } catch {\n            return url;\n        }\n    };\n\n    const renderer = new DefaultRenderer({\n        baseUrl,\n        breaks: true,\n        skipSanitization: false,\n        allowInsecureScriptTags: false,\n        addNofollowToLinks: true,\n        doNotShowImages: false,\n        assetsWidth,\n        assetsHeight,\n        imageProxyFn: imageProxyFn || defaultImageProxy,\n        usertagUrlFn,\n        hashtagUrlFn,\n        isLinkSafeFn: () => true,\n        addExternalCssClassToMatchingLinksFn: () => true,\n        ipfsPrefix: ipfsGateway\n    });\n\n    return function renderHiveMarkdown(markdown: string): string {\n        let html = renderer.render(markdown);\n        \n        // Transform 3Speak video/audio URLs to iframes\n        html = transform3SpeakContent(html);\n        \n        // Transform IPFS iframes to video tags with fallback sources\n        html = transformIPFSContent(html, ipfsGateway, ipfsFallbackGateways);\n        \n        // Transform Twitter/X URLs to embeds\n        html = transformTwitterContent(html);\n        \n        // Transform Instagram URLs to embeds\n        html = transformInstagramContent(html);\n        \n        // Prevent direct IPFS links from triggering downloads\n        html = preventIPFSDownloads(html);\n        \n        // Convert Hive frontend URLs to internal links\n        if (convertHiveUrls) {\n            html = convertHiveUrlsToInternal(html, hiveFrontends, internalUrlPrefix);\n        }\n\n        // Sanitize with DOMPurify to prevent XSS attacks\n        return DOMPurify.sanitize(html, DOMPURIFY_CONFIG);\n    };\n}\n\n/**\n * Default renderer instance with standard configuration\n * \n * @example\n * ```typescript\n * import { renderHiveMarkdown } from '@snapie/renderer';\n * \n * const html = renderHiveMarkdown(markdownContent);\n * ```\n */\nexport const renderHiveMarkdown = createHiveRenderer();\n"],"mappings":"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","names":["renderHiveMarkdown"]}